# æ¦‚è¿°

æ¬¢è¿æ¥åˆ° YesImBot çš„ä¸–ç•Œï¼æœ¬é¡µå°†ä¸ºæ‚¨è¯¦ç»†ä»‹ç» YesImBot çš„æ ¸å¿ƒç‰¹æ€§ï¼Œå¹¶å±•ç¤ºå…¶å¦‚ä½•å¤„ç†ä¿¡æ¯ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿç†è§£è¿™ä¸ªæ’ä»¶çš„ç‹¬ç‰¹ä¹‹å¤„ã€‚

## æ ¸å¿ƒç‰¹æ€§ä¸€è§ˆ

-   **ğŸ¤– åŠ¨æ€æ„æ„¿ç³»ç»Ÿ (Willingness System)**
    -   åŸºäºâ€œæ€§æ ¼é¢„è®¾â€å’Œé«˜åº¦å¯è°ƒçš„å‚æ•°ï¼Œç²¾ç¡®æ§åˆ¶æœºå™¨äººçš„å‘è¨€æ„æ„¿å’Œé¢‘ç‡ã€‚
    -   ç»¼åˆè¯„ä¼°æ¶ˆæ¯ç±»å‹ã€@æåŠã€å›å¤å…³ç³»ã€å…³é”®è¯ç­‰å¤šé‡å› ç´ ï¼Œå®ç°æ™ºèƒ½å†³ç­–ã€‚
    -   æ¨¡æ‹Ÿç²¾åŠ›çš„â€œç”Ÿå‘½å‘¨æœŸâ€æœºåˆ¶ï¼Œé¿å…æœºå™¨äººæ— é™åˆ·å±ã€‚

-   **ğŸ§  è®°å¿†ä¸ä¸–ç•ŒçŠ¶æ€ (Memory & World State)**
    -   é€šè¿‡ Markdown æ–‡ä»¶å®šä¹‰æœºå™¨äººçš„æ ¸å¿ƒè®°å¿†å’ŒèƒŒæ™¯è®¾å®šï¼Œç¨³å®šä¸”æ˜“äºç¼–è¾‘ã€‚
    -   `WorldStateService` è‡ªåŠ¨ç®¡ç†å¯¹è¯å†å²ï¼Œé€šè¿‡æ™ºèƒ½æ‘˜è¦æŠ€æœ¯åœ¨ä¿ç•™å…³é”®ä¿¡æ¯çš„åŒæ—¶ï¼Œæœ‰æ•ˆæ§åˆ¶ä¸Šä¸‹æ–‡é•¿åº¦ï¼Œç†è®ºä¸Šå®ç°æ— é™å¯¹è¯è®°å¿†ã€‚

-   **â˜ï¸ æ¨¡å‹æœåŠ¡ (Model Service)**
    -   æ”¯æŒå‡ ä¹æ‰€æœ‰å…¼å®¹ OpenAI çš„ LLM APIï¼Œä»¥åŠ Anthropicã€Ollamaã€Google Gemini ç­‰å¤šç§ç‰¹å®šæ¨¡å‹æä¾›å•†ã€‚
    -   é€šè¿‡â€œæ¨¡å‹ç»„â€å®ç°ç²¾ç»†çš„ä»»åŠ¡è·¯ç”±ï¼ˆå¦‚èŠå¤©ã€æ€»ç»“ã€åµŒå…¥ä½¿ç”¨ä¸åŒæ¨¡å‹ï¼‰å’Œå¼ºå¤§çš„æ•…éšœè½¬ç§»èƒ½åŠ›ã€‚

-   **ğŸ› ï¸ å¯æ‰©å±•å·¥å…·ç³»ç»Ÿ (Tool System)**
    -   æ ¸å¿ƒæ’ä»¶æä¾›ç¨³å›ºçš„å·¥å…·è°ƒç”¨æ¡†æ¶ï¼Œå…·ä½“åŠŸèƒ½ç”±æ‰©å±•æ’ä»¶ï¼ˆå¦‚ä»£ç è§£é‡Šå™¨ã€å¥½æ„Ÿåº¦ç³»ç»Ÿï¼‰æä¾›ã€‚
    -   æ”¯æŒé€šè¿‡å¤–éƒ¨ MCP (Model Context Protocol) æœåŠ¡å™¨åŠ¨æ€æ³¨å†Œå’Œä½¿ç”¨æ–°å·¥å…·ã€‚

-   **ğŸ‘ï¸ è§†è§‰èƒ½åŠ› (Vision)**
    -   æ”¯æŒå¤šæ¨¡æ€æ¨¡å‹ï¼Œèƒ½å¤Ÿç†è§£å¯¹è¯ä¸­å‡ºç°çš„å›¾ç‰‡å†…å®¹ã€‚
    -   å¯ç²¾ç»†é…ç½®å›¾ç‰‡åœ¨ä¸Šä¸‹æ–‡ä¸­çš„ç”Ÿå‘½å‘¨æœŸå’Œæœ€å¤§æ•°é‡ï¼Œå…¼é¡¾æ€§èƒ½ä¸æ•ˆæœã€‚

-   **âš™ï¸ äº¤äº’å¼é…ç½®ä¸ç®¡ç†**
    -   `setup` æŒ‡ä»¤æä¾›ä¿å§†çº§çš„äº¤äº’å¼é…ç½®å‘å¯¼ã€‚
    -   `conf.get` / `conf.set` æŒ‡ä»¤å…è®¸ç®¡ç†å‘˜åœ¨è¿è¡Œæ—¶åŠ¨æ€æŸ¥çœ‹å’Œä¿®æ”¹é…ç½®ã€‚

-   **ğŸ§© æ’ä»¶åŒ–æ¶æ„**
    -   æ ¸å¿ƒåŠŸèƒ½ä¸æ‰©å±•æ’ä»¶ï¼ˆ`mcp`, `favor`, `code-interpreter`ï¼‰åˆ†ç¦»ï¼ŒæŒ‰éœ€å®‰è£…ï¼Œä¿æŒæ ¸å¿ƒçš„è½»é‡åŒ–ã€‚

## åŠŸèƒ½æµç¨‹ä¸€è§ˆ

ä¸‹å›¾ç›´è§‚åœ°å±•ç¤ºäº† YesImBot ä»æ¥æ”¶æ¶ˆæ¯åˆ°ç”Ÿæˆå›å¤çš„å®Œæ•´å¤„ç†æµç¨‹ï¼Œå¸®åŠ©æ‚¨ç†è§£å„ä¸ªæ ¸å¿ƒæœåŠ¡æ˜¯å¦‚ä½•ååŒå·¥ä½œçš„ã€‚

```mermaid
sequenceDiagram
    participant K as Koishi
    participant YB as YesImBot ä¸»æœåŠ¡
    participant AC as AgentCore
    participant WM as WillingnessManager
    participant WS as WorldStateService
    participant MS as ModelService
    participant TS as ToolService
    
    K->>YB: æ¥æ”¶æ¶ˆæ¯
    YB->>AC: å¤„ç†æ¶ˆæ¯
    AC->>WM: åˆ¤æ–­æ„æ„¿
    WM-->>AC: æ„æ„¿å†³ç­–ç»“æœ
    
    alt å†³å®šå“åº”
        AC->>WS: è·å–ä¸–ç•ŒçŠ¶æ€
        AC->>MS: è°ƒç”¨æ¨¡å‹
        MS-->>AC: æ¨¡å‹å“åº”
        
        alt éœ€è¦å·¥å…·è°ƒç”¨
            AC->>TS: æ‰§è¡Œå·¥å…·
            TS-->>AC: å·¥å…·ç»“æœ
            AC->>MS: äºŒæ¬¡æ¨¡å‹è°ƒç”¨
            MS-->>AC: æœ€ç»ˆå“åº”
        end
        
        AC->>WS: è®°å½•äº¤äº’
        AC-->>YB: ç”Ÿæˆå›å¤
        YB-->>K: å‘é€å›å¤
    end
```